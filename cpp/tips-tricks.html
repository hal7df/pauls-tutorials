<!DOCTYPE html>
<html>
  <head>
    <title>Tips and Tricks (C++)</title>
    <meta content="">
    <link rel="stylesheet" type="text/css" href="../files/styles/style.css" />
      <link rel="stylesheet" type="text/css" href="../files/syntax/css/shCore.css" />
    <link rel="stylesheet" type="text/css" href="../files/syntax/css/shThemeRDark.css" />
    <script type="text/javascript" src="../files/syntax/script/shCore.js"></script>
    <script type="text/javascript" src="../files/syntax/script/shBrushCpp.js"></script>
    
    <script type="text/javascript">SyntaxHighlighter.all();</script>
  </head>
  <body>
  <!-- PAGE HEADER -->
	<h1 class="tutorial"><img src="../files/img/PaulsTutorials.png" alt="Paul's Tutorials - logo" 
  		style="float: left; vertical-align: middle;" height="60" width="63">&nbsp;&nbsp;<span style="font-size: 0.5em;">C++</span>&nbsp;Tips and Tricks</h1>
  	<hr />
  	<div class="path">
		<a class="main" href="../index.html">Programming Home</a>
	</div>
	<div class="separator"></div>
	<div class="contain">
		<div class="path subNav">
			<a class="main" href="index.html">C++ Guided Tutorial</a>
			
			<ul>
				<li><a href="../wpi/index.html">WPILib Tutorial</a></li>
				<li><a href="../about.html">About</a></li>
			</ul>
		</div>
	</div>
	<div class="separator"></div>
	<div class="contain">
		<div class="path subNav">
			<span>Tips and Tricks</span>
			
			<ul>
				<li><a href="ch1/index.html">Chapter 1: Basics</a></li>
				<li><a href="ch2/index.html">Chapter 2: Organization</a></li>
				<li><a href="ch3/index.html">Chapter 3: Advanced C++</a></li>
			</ul>
		</div>
	</div>
	<div class="reset"></div>
  	<hr />
  	
  	<!-- PAGE CONTENT -->
  	 <p>This page details a few tips and tricks you can employ to accomplish varying tasks and would not normally be explained in this tutorial. Some of them require a certain level of understanding.
  	 	That level will be written under each heading.</p>
  	 <p>Note that the levels listed here are the <span style="font-weight: bold;">absolute minimum</span> levels of knowledge you will need to implement them. 
  	 	It may be easier for you to learn them at a later time.</p>
  	 <p id="toc">
  	 <ul>
  	 	<li><a href="#printf"><code>printf()</code></a></li>
  	 	<li><a href="#Random_Numbers">Random Numbers</a></li>
  	 	<li><a href="#IO_Manipulation">I/O Manipulation</a></li>
  	 	<li><a href="#Clearing_the_Screen">Clearing the Screen</a></li>
  	 	<li><a href="#unbuffered_input">Reading from Unbuffered Input</a></li>
  	 	<li><a href="#Input_Validation">Input Validation</a></li>
  	 </ul>
  	 
  	 <h2 class="tutorial"><a id="printf"></a><code>printf()</code></h2>
  	 	<p style="font-weight: bold; text-align: center;">Required Level: Lesson 1-1</p>
  	 	<p>The <code>printf()</code> function is another method of output from C (the language C++ is based on).  It allows you to print variable values right in a text string.</p>
  	 	<p>This will be useful later when you start programming the robot.</p>
  	 	<p>When you use it, you need to include the library <code>cstdio</code>.</p>
		<pre class="brush: cpp">
#include &lt;cstdio&gt;

using namespace std;

int main()
{
	int x;
	x=5;
	printf(&quot;I have %d puppies!\n&quot;,x);

 	return 0;
}</pre>
		<p>The code above prints <q><code>I have 5 puppies!</code></q></p>
		<p>Here is a shortened table of format specifiers (the <code>%d</code> above is an example) that <code>printf()</code> accepts:</p>
		<p style="font-style: italic;">This table is from the www.cplusplus.com reference page on <code>printf()</code></p>
		<table><tbody>
			<tr>
				<th>Specifier</th>
				<th>Type</th>
				<th>Example</th>
			</tr>
			<tr>
				<td><code>d</code> or <code>i</code></td>
				<td>Signed integer</td>
				<td><code>-49</code></td>
			</tr>
			<tr>
				<td><code>u</code></td>
				<td>Unsigned integer</td>
				<td><code>435</code></td>
			</tr>
			<tr>
				<td><code>f</code></td>
				<td>Floating point number</td>
				<td><code>58.9784</code></td>
			</tr>
			<tr>
				<td><code>c</code></td>
				<td>Character</td>
				<td><code>g</code></td>
			</tr>
			<tr>
				<td><code>s</code></td>
				<td>C String</td>
				<td><code>&quot;hello&quot;</code></td>
			</tr>
		</tbody></table>
		<p>See <a href="http://www.cplusplus.com/reference/cstdio/printf/" target="_blank">here</a> for a complete table and more details on <code>printf</code>.</p>
		<p>Please note that printf will not accept C++ strings (variable type <code>string</code>) If you need to output a <code>string</code> in this manner, use this method for now:</p>
		<table class="codeOutput"><tbody>
			<tr>
				<th>Code</th>
				<th>Output</th>
			</tr>
			<tr>
				<td>
					<pre class= "brush: cpp">
string mystring;
mystring = "hello";
printf("I would like to say %s", mystring.c_str());</pre></td>
				<td>I would like to say hello</td>
			</tr>
		</tbody></table>
		<p>Another way to do this would be to declare a <a href="ch2/arrays.html#C_Strings">C string</a>; however, you need to have learned the concepts in lesson 6 in order to do that.</p>
		
		<h2 class="tutorial"><a id="Random_Numbers"></a>Random Numbers</h2>
			<p style="font-weight: bold; text-align: center;">Required Level: Lesson 1-1</p>
			<p>First off, the numbers you will obtain through this method are not quite random, as they are created through a predictable algorithm. However, for most purposes, this process is acceptable.</p>
			<p>In order to use it, you must include the following libraries:</p>
			<blockquote class="tutorialexample">
				cstdlib<br>
				ctime
			</blockquote>
			<h3 class="tutorial"><a id="Generating_Random_Numbers"></a>Generating Random Numbers</h3>
				<h4 class="tutorial"><a id="Seeding"></a>Seeding</h4>
					<p>Such numbers are created through a random number generator. This generator must be seeded before it can generate any random numbers. The random number generator needs to be seeded ONCE and only ONCE.
						Seeding multiple times will render the random number generator useless.</p>
					<p>Seed it like this:</p>
					<pre class= "brush: cpp">srand(time(NULL));</pre>
					<p>This provides a random number seed that changes every time the program is run, because the seed is the time the <code>srand()</code> function is called.</p>
					<p>You should generally always seed the random number generator at the beginning of <code>main</code>. Seeding it elsewhere (for example, in a class constructor or in another function) may actually seed it multiple times.</p>
				<h4 class="tutorial"><a id="rand"></a><code>rand()</code></h4>
					<p>Then, you can generate random <code>int</code>s like this:</p>
					<pre class= "brush: cpp">int my_int = rand();</pre>
					<p>Note that the <code>rand()</code> function takes no parameters. 
						No matter what, the <code>rand()</code> function alone will generate a number from 0 to a value known as <code>RAND_MAX</code>, which can vary, but is at least 32767 (the largest number an int is accepted to handle -- though it can handle more, but memory comes into play there).</p>
					<p>Regardless, to bring it into a range, use the modulo operator, like so:</p>
					<pre class= "brush: cpp">int my_int = rand() % 20;</pre>
					<p>This will generate a number from 0 to 19. If you want to generate numbers in a specific range, use the following formula:</p>
					<pre class= "brush: cpp">rand() % ((max-min)+1) + min;</pre>
					<p style="font-style: italic;">Remember that addition and subtraction ignore the index number (the number you start from). This is why you need to add 1 after the range calculation. 
						Also, <span style="font-weight: bold;">DO NOT TAKE THE RESULT OF THE ABOVE EQUATION AND WRITE <code>rand() % result</code>, AS THIS CHANGES THE RANGE OF NUMBERS TO BE GENERATED!</span>
						(Order of Operations - modulo is grouped with multiplication/division)</p>
					<p>For example:</p>
					<pre class= "brush: cpp">int my_int = rand() % 31 + 1983;</pre>
					<p>will generate years from 1983 to 2013.</p>
					
		<h2 class="tutorial"><a id="IO_Manipulation"></a>I/O Manipulation</h2>
			<p style="font-weight: bold; text-align: center;">Required Level: Lesson 1-1</p>
			<p>If you are a stickler about presentation, there is a whole library for that.</p>
			<pre class= "brush: cpp">#include &lt;iomanip&gt;</pre>
			<p>Note that the functions below only work on <code>cout</code>. For a full list of functions provided by this library, see <a href="http://www.cplusplus.com/reference/iomanip/" target="_blank">iomanip</a>. 
				Some listed there will also work on <code>cin</code>.</p>
			<h3 class="tutorial"><a id="Output_operation"></a>Output operation</h3>
				<p>An <span style="font-weight: bold;">output operation</span> is one of the clauses you put between the <code>&lt;&lt;</code> operators in <code>cout</code> statements.</p>
				<p style="font-weight: bold;">Example</p>
				<pre class="brush: cpp">
cout &lt;&lt; OutputOperation1 &lt;&lt; OutputOperation2 &lt;&lt; OutputOperation3;</pre>
				<p>Note that the following functions are not considered output operations.</p>
				<p>When considering how to set it up, the following functions do affect following <code>cout</code> statements, if applicable.</p>
			<h3 class="tutorial"><a id="setw"></a><code>setw()</code></h3>
				<p>The <code>setw()</code> function allows you to <span style="font-weight: bold;">set the width</span> of a specific output operation.</p>
				<pre class="brush: cpp">
iomanip::setw(int width)</pre>
				<h4 class="tutorial"><a id="setw_parameters"></a><code>setw()</code> parameters</h4>
				<dl class="tutorial">
					<dt>width</dt>
					<dd>The number of characters that the following output operation should contain. If there is an excess, the <a href="#setfill">fill character</a> is repeated and put adjacent to the characters output by the following operation.</dd>
				</dl>
				<h4 class="tutorial"><a id="setw_use"></a><code>setw()</code> use</h4>
					<p>Place this function <span style="font-weight: bold;">before</span> the desired output operation.</p>
					<table class="codeOutput" style="width: 82.5%;"><tbody>
						<tr>
							<th>Code</th>
							<th>Output</th>
						</tr>
						<tr>
							<td>
						<pre class= "brush: cpp">
cout &lt;&lt; "Not affected" &lt;&lt; setw(30);
cout &lt;&lt; "Affected" &lt;&lt; " Not affected" &lt;&lt; endl;</pre>
						<pre class= "brush: cpp">
cout &lt;&lt; "Not affected"  &lt;&lt; setw(30) &lt;&lt; "Affected" &lt;&lt;  " Not affected" &lt;&lt; endl;</pre>
							</td>
							<td>Not affected&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Affected Not affected</td>
					</tbody></table>
			<h3 class="tutorial" style="clear: both;"><a id="setfill"></a><code>setfill()</code></h3>
				<p>The <code>setfill()</code> function allows you to set the fill character (normally a whitespace). The fill character is used if an output operation contains fewer characters than the <a href="#setw">field width</a>.</p>
				<p><code>setfill()</code> affects <span style="font-weight: bold;">all</span> output operations following it.</p>
				<pre class="brush: cpp">iomanip::setfill(char_type c)</pre>
				<h4 class="tutorial"><a id="setfill_parameters"></a><code>setfill()</code> parameters</h4>
					<dl class="tutorial">
						<dt>c</dt>
						<dd>Character to use as the fill character in the following output operation.</dd>
					</dl>
				<h4 class="tutorial"><a id="setfill_use"></a><code>setfill()</code> use</h4>
					<p>Place this function <span style="font-weight: bold;">before</span> the desired output operation.</p>
					<table class="codeOutput"><tbody>
						<tr>
							<th>Code</th>
							<th>Output</th>
						</tr><tr>
							<td><pre class= "brush: cpp">cout &lt;&lt; setfill('+') &lt;&lt; setw(10) &lt;&lt; "hi" &lt;&lt; endl;</pre></td>
							<td> <code>++++++++hi</code></td>
						</tr>
					</tbody></table>
			<h3 class="tutorial"><a id="Text_alignment"></a>Text alignment</h3>
				<p>These functions are actually a part of <code>iostream</code>, so <code>iomanip</code> is not required to use them.</p>
				<p>They change the alignment of output operations depending on the <a href="#setw">field width</a>, not necessarily the screen size.</p>
				<p>It is also important to note that these functions affect <strong>all</strong> output operations following their use, meaning if you want it to change back, you have to use the proper function.</p>
				<p>Text is normally aligned to the right.</p>
				<h4 class="tutorial"><a id="left"></a><code>left</code></h4>
					<p>Sets the output stream to put fill characters after successive output operations (causing a left alignment).</p>
					<h5 class="tutorial"><a id="left_parameters"></a><code>left</code> parameters</h5>
						<p>The parameter for <code>left</code> is the following output operation, therefore, parentheses are unnecessary.</p>
					<h5 class="tutorial"><a id="left_use"></a><code>left</code> use</h5>
						<p>Use <code>left</code> before the output operations to be left-aligned.</p>
						<table class="codeOutput"><tbody>
							<tr>
								<th>Code</th>
								<th>Output</th>
							</tr><tr>
								<td><pre class="brush: cpp">cout &lt;&lt; setfill('+') &lt;&lt; setw(10) &lt;&lt; left &lt;&lt; "hi" &lt;&lt; endl;</pre></td>
								<td>hi++++++++</td>
							</tr>
						</tbody></table>
				<h4 class="tutorial"><a id="right"></a><code>right</code></h4>
					<p>Sets the output stream to put fill characters before successive output operations (causing a right alignment).</p>
					<h5 class="tutorial"><a id="right_parameters"></a><code>right</code> parameters</h5>
						<p>The parameter for <code>right</code> is the following output operation, therefore, parentheses are unnecessary.</p>
					<h5 class="tutorial"><a id="right_use"></a><code>right</code> use</h5>
						<p>Use <code>right</code> before the output operations to be right-aligned.</p>
						<table class="codeOutput"><tbody>
							<tr>
								<th>Code</th>
								<th>Output</th>
							</tr><tr>
								<td><pre class="brush: cpp">cout &lt;&lt; setfill('+') &lt;&lt; setw(10) &lt;&lt; right &lt;&lt; "hi" &lt;&lt; endl;</pre></td>
								<td>++++++++hi</td>
							</tr>
						</tbody></table>
				<h4 class="tutorial"><a id="internal"></a><code>internal</code></h4>
					<p>Sets the output stream to put fill characters in the middle of successive output operations (splitting the readout in two).</p>
					<h5 class="tutorial"><a id="internal_parameters"></a><code>internal</code> parameters</h5>
						<p>The parameter for <code>internal</code> is the following output operation, therefore, parentheses are unnecessary.</p>
					<h5 class="tutorial"><a id="internal_use"></a>internal use<a href="#internal_use" class="section_anchor"></a></h5>
						<p>Use <code>internal</code> before the output operations to fill internally.</p>
						<table class="codeOutput"><tbody>
							<tr>
								<th>Code</th>
								<th>Output</th>
							</tr><tr>
								<td><pre class="brush: cpp">cout &lt;&lt; setfill('+') &lt;&lt; setw(10) &lt;&lt; internal &lt;&lt; "hi" &lt;&lt; endl;</pre></td>
								<td>h++++++++i</td>
							</tr>
						</tbody></table>
		<h2 class="tutorial"><a id="Clearing_the_Screen"></a>Clearing the Screen</h2>
			<p style="font-weight: bold; text-align: center;">Required Level: Lesson 1-1</p>
			<p>Clearing the screen actually depends on which platform you are using, because how the terminal is implemented between different platforms changes.</p>
			<h3 class="tutorial"><a id="clear_windows"></a>Clearing the Screen on Windows</h3>
				<p>Use <a href="http://www.cplusplus.com/articles/4z18T05o/#Windows" target="_blank">this function</a>.</p>
			<h3 class="tutorial"><a id="clear_unix"></a>Clearing the Screen on Unix-Derived Systems</h3>
				<p>Unix-derived systems are systems such as OS X, Linux, BSD, or basically anything that is POSIX-compliant. This will work for any such system.</p>
				<p>Unix-derived systems actually have a rather standard way to do this, since someone developed a library that made terminal handling easier. All you have to do is print the right control sequence to the terminal.
					The code below (borrowed from <a href="http://www.cplusplus.com/articles/4z18T05o/#POSIX" target="_blank">here</a>) provides a fairly robust way to do it:</p>
				<pre class= "brush: cpp">
#include &lt;unistd.h&gt;
#include &lt;term.h&gt;

void clearScreen()
{
	if (!cur_term)
	{
   		int result;
   		setupterm(NULL, STDOUT_FILENO, &amp;result);
	   	if (result &lt;= 0)
      		return;
	}
  
	putp(tigetstr(&quot;clear&quot;));
}</pre>
	
				<p>The last line (the <code>putp(tigetstr(&quot;clear&quot;))</code>) basically asks the terminal for the control sequence to clear the screen, and then prints it.</p>
				<p>If you use this, you will need to link the right library (older systems use <code>-lterminfo</code>, newer Ubuntu systems use <code>-ltinfo</code>, other POSIX-compliant systems might use <code>-lcurses</code> or so on).</p>
		<h2 class="tutorial"><a id="unbuffered_input"></a>Reading from Unbuffered Input</h2>
			<p style="font-weight: bold; text-align: center;">Required Level: Lesson 1-1</p>
			<p>Unbuffered input is basically input that has not been ended by a strike of the enter key. This is useful for writing programs that respond immediately to a key stroke.</p>
			<p>Again, unbuffered input depends on the implementation of the terminal you are using, so this is platform-dependent.</p>
			<h3 class="tutorial"><a id="unbuffered_windows"></a>Unbuffered Input on Windows</h3>
				<p>Really, the easiest way to do this is using <code>conio.h</code>. There is a way to do it using the Windows API, but it requires knowledge from beyond this tutorial.</p>
				<pre class="brush: cpp">
#include &lt;conio.h&gt;

char c;
c = _getch();

//or if _getch() doesn&#x27;t work
c = getch();</pre>
			<h3 class="tutorial"><a id="unbuffered_unix"></a>Unbuffered Input on Unix-Derived Systems</h3>
				<p>There are multiple different ways to do this. You could set the associated variable with <code>stty</code> or you could use the <code>getch()</code> function from <code>curses</code>.
					However, the former is a little tricky, and curses is not compatible with <code>stdin</code> and <code>stdout</code> (i.e. <code>cin</code> and <code>cout</code>), so you would have to learn all of <code>curses</code> to use it. 
					I would suggest looking at <a href="http://stackoverflow.com/a/912796" target="_blank">this</a>.</p>
		<h2 class="tutorial"><a id="Input_Validation"></a>Input Validation</h2>
			<p style="font-weight: bold; text-align: center;">Required Level: Lesson 1-3</p>
			<p>When the user inputs data into your program, he/she may not know what data type you are looking for. If that is a concern, you can use the following method to keep your program running properly, should that happen.</p>
			<pre class="brush: cpp">
#include &lt;iostream&gt;
#include &lt;limits&gt;	//you need this library!!

using namespace std;

int main () {
	unsigned myUInt;
	//note that this is the same as unsigned int myUInt;

	while (!(cin>>myUInt))
	{
    		cout &lt;&lt;"Please input a positive integer."&lt;&lt;endl;
    		cin.clear();
 		cin.ignore(numeric_limits&lt;streamsize&gt;::max(),'\n');
	}

	cout<<"You input a positive "&lt;&lt;myUInt&lt;&lt;'.'&lt;&lt;endl;

	return 0;
}</pre>
			<p>The above code would run like this:</p>
			<table class="inputOutput"><tbody>
				<tr>
					<th>Input</th>
					<th>Output</th>
				</tr><tr>
					<td>2</td>
					<td>You input a positive 2.</td>
				</tr><tr>
					<td>abc</td>
					<td>Please input a positive integer.</td>
				</tr><tr>
					<td>-9</td>
					<td>Please input a positive integer.</td>
				</tr><tr>
					<td>0.25</td>
					<td>Please input a positive integer.</td>
				</tr>
			</tbody></table>
			<p style="font-style: italic;">Note that you may need to double the <code>cin.ignore()</code> statement</p>
			<h3 class="tutorial">Why it works</h3>
				<p>Despite the fact that the <code>cin</code> statement is inside the parentheses for the <code>while</code> loop, the program still looks for input at that point.
					If the user inputs the wrong data type, <code>cin</code> throws a couple of flags (<code>fail</code> and/or <code>bad</code>, to be exact).
					The computer interprets this to be a <code>false</code> value, so it runs the loop.</p>
	
	<hr>				
	<p style="font-style: italic;">This resource was compiled with reference to <a href="http://www.cplusplus.com" target="_blank">http://www.cplusplus.com</a> and <a href="http://www.stackoverflow.com/">Stack Overflow</a>.</p>
  </body>
</html>